/*
 * This file was generated by the Gradle 'init' task.
 *
 * This project uses @Incubating APIs which are subject to change.
 */
plugins {
    id 'java'
    id 'com.github.johnrengelman.shadow' version '7.1.2'
}

allprojects {
    group 'org.au2b2t.randommotd'
    version '1.0.0'
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'com.github.johnrengelman.shadow'

    repositories {
        mavenCentral()

        maven {
            url = uri('https://papermc.io/repo/repository/maven-public/')
        }

        maven {
            url = uri('https://oss.sonatype.org/content/groups/public/')
        }

        maven {
            url = uri('https://repo.maven.apache.org/maven2/')
        }

        maven {
            url = uri('https://oss.sonatype.org/content/repositories/snapshots')
        }
    }

    dependencies {
        implementation 'org.apache.commons:commons-text:1.10.0'
    }

    shadowJar {
        final String archiveName = parent.name + '.jar'
        getArchiveFileName().set(archiveName)

        dependencies {
            include(dependency('org.apache.commons:.*'))
        }
    }

    build {
        dependsOn(shadowJar)
    }
}

shadowJar {
    final String archiveName = project.name + '.jar'
    getArchiveFileName().set(archiveName)

    dependencies {
        include(project(':bungeecord'))
        include(project(':spigot'))
    }
}

build {
    dependsOn(shadowJar)
}